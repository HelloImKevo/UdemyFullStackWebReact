<%- include('partials/header') %>
<%- include('partials/nav') %>

<div class="container">
  <div class="form-container">
    <div class="form-header">
      <h1><i class="fas fa-edit"></i> Edit Post</h1>
      <p>Update your blog post content</p>
    </div>
    
    <% if (error) { %>
      <div class="alert alert-error">
        <i class="fas fa-exclamation-circle"></i>
        <%= error %>
      </div>
    <% } %>
    
    <form action="/posts/<%= post.id %>/edit" method="POST" class="blog-form">
      <div class="form-group">
        <label for="title">
          <i class="fas fa-heading"></i> Post Title *
        </label>
        <input 
          type="text" 
          id="title" 
          name="title" 
          value="<%= post.title %>"
          placeholder="Enter an engaging title for your post" 
          required
          maxlength="200"
          autofocus
        >
        <small class="form-help">A clear, compelling title helps readers find your content</small>
      </div>
      
      <div class="form-group">
        <label for="author">
          <i class="fas fa-user-edit"></i> Author Name *
        </label>
        <input 
          type="text" 
          id="author" 
          name="author" 
          value="<%= post.author %>"
          placeholder="Your name or pen name" 
          required
          maxlength="100"
        >
        <small class="form-help">How would you like to be credited?</small>
      </div>
      
      <div class="form-group">
        <label for="content">
          <i class="fas fa-align-left"></i> Content *
        </label>
        <textarea 
          id="content" 
          name="content" 
          rows="15" 
          placeholder="Write your blog post content here..."
          required
        ><%= post.content %></textarea>
        <small class="form-help">Express yourself freely - there's no character limit</small>
      </div>
      
      <div class="form-actions">
        <button type="submit" class="btn-primary btn-large">
          <i class="fas fa-save"></i> Update Post
        </button>
        <a href="/" class="btn-secondary btn-large">
          <i class="fas fa-times"></i> Cancel
        </a>
      </div>
    </form>
    
    <div class="post-info">
      <p><i class="fas fa-info-circle"></i> <strong>Created:</strong> <%= formatDate(post.createdAt) %></p>
      <% if (post.updatedAt > post.createdAt) { %>
        <p><i class="fas fa-clock"></i> <strong>Last Updated:</strong> <%= formatDate(post.updatedAt) %></p>
      <% } %>
    </div>
  </div>
</div>

<%- include('partials/footer') %>
