<%- include('partials/header') %>
<%- include('partials/nav') %>

<div class="container">
  <article class="post-view">
    <header class="post-header">
      <h1 class="post-title"><%= post.title %></h1>
      <div class="post-meta">
        <span class="post-author">
          <i class="fas fa-user"></i> By <%= post.author %>
        </span>
        <span class="post-date">
          <i class="fas fa-calendar"></i> <%= formatDate(post.createdAt) %>
        </span>
        <% if (post.updatedAt > post.createdAt) { %>
          <span class="post-updated">
            <i class="fas fa-edit"></i> Updated <%= formatDate(post.updatedAt) %>
          </span>
        <% } %>
      </div>
    </header>
    
    <div class="post-content">
      <p><%= post.content %></p>
    </div>
    
    <footer class="post-footer">
      <div class="post-actions-large">
        <a href="/" class="btn-secondary">
          <i class="fas fa-arrow-left"></i> Back to Home
        </a>
        <a href="/posts/<%= post.id %>/edit" class="btn-primary">
          <i class="fas fa-edit"></i> Edit Post
        </a>
        <form action="/posts/<%= post.id %>/delete" method="POST" class="delete-form-inline" onsubmit="return confirm('Are you sure you want to delete this post? This action cannot be undone.');">
          <button type="submit" class="btn-danger">
            <i class="fas fa-trash"></i> Delete Post
          </button>
        </form>
      </div>
    </footer>
  </article>
</div>

<%- include('partials/footer') %>
