<%- include('partials/header') %>

<div class="page-header">
    <h1><i class="fas fa-user-ninja"></i> Professional Dota 2 Players</h1>
    <p class="page-description">Explore professional players from around the world</p>
</div>

<% if (players && players.length > 0) { %>
    <div class="stats-summary">
        <div class="summary-item">
            <i class="fas fa-user"></i>
            <span class="summary-number"><%= players.length %></span>
            <span class="summary-label">Players Listed</span>
        </div>
    </div>

    <div class="players-grid">
        <% players.forEach(player => { %>
            <div class="player-card">
                <div class="player-header">
                    <% if (player.avatarfull) { %>
                        <img src="<%= player.avatarfull %>" alt="<%= player.name %> avatar" class="player-avatar">
                    <% } else { %>
                        <div class="player-avatar-placeholder">
                            <i class="fas fa-user"></i>
                        </div>
                    <% } %>
                    <div class="player-info">
                        <h3 class="player-name"><%= player.name %></h3>
                        <% if (player.team_name) { %>
                            <p class="player-team">
                                <i class="fas fa-shield-alt"></i> <%= player.team_name %>
                            </p>
                        <% } %>
                    </div>
                </div>
                
                <div class="player-details">
                    <% if (player.country_code) { %>
                        <div class="detail-row">
                            <span class="detail-label"><i class="fas fa-flag"></i> Country:</span>
                            <span class="detail-value"><%= player.country_code %></span>
                        </div>
                    <% } %>
                    <% if (player.fantasy_role !== undefined) { %>
                        <div class="detail-row">
                            <span class="detail-label"><i class="fas fa-user-tag"></i> Role:</span>
                            <span class="detail-value">
                                <% 
                                const roles = ['', 'Core', 'Support', 'Offlane', 'Mid', 'Carry'];
                                %>
                                <%= roles[player.fantasy_role] || 'Unknown' %>
                            </span>
                        </div>
                    <% } %>
                    <% if (player.is_locked !== undefined) { %>
                        <div class="detail-row">
                            <span class="detail-label"><i class="fas fa-circle"></i> Status:</span>
                            <span class="detail-value <%= player.is_locked ? 'status-inactive' : 'status-active' %>">
                                <%= player.is_locked ? 'Inactive' : 'Active' %>
                            </span>
                        </div>
                    <% } %>
                </div>
                
                <div class="player-footer">
                    <a href="/player/<%= player.account_id %>" class="btn btn-small btn-primary">
                        <i class="fas fa-info-circle"></i> View Profile
                    </a>
                </div>
            </div>
        <% }); %>
    </div>
<% } else { %>
    <div class="empty-state">
        <i class="fas fa-inbox"></i>
        <h2>No Players Found</h2>
        <p>Unable to load player data at this time. Please try again later.</p>
        <a href="/" class="btn btn-primary">Return Home</a>
    </div>
<% } %>

<%- include('partials/footer') %>
